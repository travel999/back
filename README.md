#### 우리같이 여행일정 짜보지 않을래?
# 🛩 실시간 여행일정 공유 서비스 'OORIGACHI(우리가치)' 

### ❤️ [OORIGACHI 바로가기](https://oorigachi.com)
### ❤️ [OORIGACHI 발표영상 바로가기](https://youtu.be/4dvEbESYDXQ)

## 서비스 개요
#### 다 같이 가는 여행인데, 나 혼자서만 계획짜고 정리 한다는건 너무 불편한거 같아!!
##### 그런 당신을 위한 실시간 여행일정 공유 서비스 'OORIGACHI(우리가치)' 를 소개합니다.
##### 가고싶은 여행지를 선택하고, 작성한 일정글들을 초대된 일행과 실시간으로 확인할 수 있어서 다함께 여행계획을 짤 수 있습니다.


## 🗓 프로젝트 기간
2022.08.26 ~ 2022.10.07

##  팀 맴버

|이름|포지션|깃허브|
|---|---|---|
|임주영|FE🔰|[주영's github](https://github.com/JJOOYYONG)|
|강나오미|FE|[나오미's github](https://github.com/na-0-mi)|
|문동환|FE|[동환's github](https://github.com/moduri)|
|김승남|BE🔰|[승남's github](https://github.com/hinel03)|
|김동일|BE|[동일's github](https://github.com/dongridongil)|
|신현호|BE|[현호's github](https://github.com/azoong)|
|최소이|DE|-|

#### 💻 Front-end    

[GitHub](https://github.com/travel999/front)

## 아키텍쳐
![아키텍쳐](https://user-images.githubusercontent.com/108726282/195365742-1ba4f24d-e1d9-485d-b5af-840a2932c507.png)


* ### 백엔드
![node](https://camo.githubusercontent.com/3a8a16bb825e6350e0f777e29358061eedaf615b6a61c5b8b1e975ee75227440/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6e6f64652e6a732d3333393933333f7374796c653d666f722d7468652d6261646765266c6f676f3d4e6f64652e6a73266c6f676f436f6c6f723d7768697465)
![pm2](https://camo.githubusercontent.com/1fca614ed16883f52cd1e1ea59b13f9e57ba97e21e5356a07d6af86ee558a560/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f706d322d3242303337413f7374796c653d666f722d7468652d6261646765266c6f676f3d706d32266c6f676f436f6c6f723d7768697465)
![ng](https://camo.githubusercontent.com/542020159f0557d364ce8e53417ddc14bec95d67ba261e603b48dc00a4ecf9dd/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4e47494e582d3030393633393f7374796c653d666f722d7468652d6261646765266c6f676f3d4e47494e58266c6f676f436f6c6f723d7768697465)
![mongo](https://camo.githubusercontent.com/328a99ffe07bf6e828693432b0b56997b31dc1f778a6b668c95ae321ad67c692/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d6f6e676f44422d3437413234382e7376673f267374796c653d666f722d7468652d6261646765266c6f676f3d4d6f6e676f4442266c6f676f436f6c6f723d7768697465)
![login](https://user-images.githubusercontent.com/54390853/192484009-8439f8d4-5e16-4ab9-83de-76128a0c92ca.svg)
![github](https://user-images.githubusercontent.com/54390853/192484352-fab7cfb7-2942-4bed-93c3-29491206f1a6.svg)
![amazon](https://user-images.githubusercontent.com/54390853/192484308-30812333-d88a-4300-b81f-8ae9ebb64081.svg)
![ec2](https://camo.githubusercontent.com/50b3d8f1d8a1b77b26030be2141ff771bda0c9a2ab3ed73d2e6076b0bc68dfb4/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4543322d2532334646393930302e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d416d617a6f6e454332266c6f676f436f6c6f723d7768697465)
![githubAction](https://camo.githubusercontent.com/9c814c1d9d546d5c4c330663262c9abe1374cbed2b11a8b50c49c6676e881625/687474703a2f2f696d672e736869656c64732e696f2f62616467652f2d47697448756220416374696f6e732d3230383846463f7374796c653d666f722d7468652d6261646765266c6f676f3d47697448756220416374696f6e73266c6f676f436f6c6f723d7768697465)
![s3](https://camo.githubusercontent.com/ee5364442e009a57640492ac3f8a992ea519c96356875068cf081ba1d334beed/687474703a2f2f696d672e736869656c64732e696f2f62616467652f2d416d617a6f6e2053332d3536394133313f7374796c653d666f722d7468652d6261646765266c6f676f3d416d617a6f6e205333266c6f676f436f6c6f723d7768697465)
<img src="https://img.shields.io/badge/Jeset-C21325?style=for-the-badge&logo=Jest&logoColor=white">
<img src="https://img.shields.io/badge/npm-CB3837?style=for-the-badge&logo=npm&logoColor=white">
<img src="https://img.shields.io/badge/JWT-000000?style=for-the-badge&logo=JWT&logoColor=white">
<img src="https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=Redis&logoColor=white">


## 📑 서비스페이지 

<details>
<summary> 상세보기 </summary>

#### 1. 회원가입 / 로그인
- 이메일 인증
- 일반 로그인
- 카카오 소셜로그인

#### 2. 메인 페이지 (DashBord)
- 내가 작성한 여행일정, 내가 찜한 여행일정, 공개일정 축약 리스트

#### 3. 일정 등록페이지
- 여행일행 초대
- 여행장소 선택 후 일정 작성
- 실시간 채팅

#### 4. 찜한 일정 페이지
- 찜한 일정 전체 리스트

#### 5. 공개일정 페이지
- 다른사람이 공개한 여행일정 전체 리스트
</details>
<br/>

<br>

## 🔎 주요 기능
|카카오맵 마커 표기 및 일정카드 생성|
|---|
![ 마커](https://user-images.githubusercontent.com/54390853/193458236-983776ab-c4a9-40db-a022-3c968a457bed.gif)
|실시간 일정공유 및 채팅|
|![채팅](https://user-images.githubusercontent.com/54390853/193409603-1d24e08a-e668-4c49-b1eb-78e3329adb33.gif)|
|다른 사람이 작성한 여행일정 공유|
|![공개](https://user-images.githubusercontent.com/54390853/193458867-8bfa0633-813b-4741-bc42-76e3b0d456f7.gif)|

<br/>
<br>

## 🔥 트러블슈팅
<details>
<summary> 🤯 멀티서버 사용시 소켓 연결 이슈 </summary>

❓ 문제

- 단일 서버환경에서 소켓통신이 원활히 작동하였지만 로드 밸런싱을 통하여 멀티서버를 구축하자 몇몇 사용자간에 통신문제가 발생

❗️ 원인

- 각기 다른 서버에서 socket 정보를 통신하지 못하여 발생하는 오류로 파악하였음

⭐ 해결

- redis에 pub/sub 방식을 이용하여 멀티서버간 소켓통신이 가능하다는 것을 socket.io 공식 홈페이지를 통하여 정보를 취득
- 이를 위하여 프록시 서버에 redis를 적용한뒤 redis adapter를 사용하여 서로 다른 서버간 socket 정보를 통신하도록 해결

</details>

<details>
<summary> 🤯 실시간 통신을 구현하기위한 기술 선택과정 </summary>

❓ 문제제기

- 초대된 사용자와 함께 일정을 작성하려면 구글독스, 노션과 같이 실시간으로 변화하는 화면을 실시간으로 공유되어야함.
- 실시간 구현을 어떤 기술을 선택할지에 대한 고민.  

❗️기술적 선택지 및 선택이유
  
- SSE 서버사이드렌더링
  -- SSE를 사용할경우 지속적으로 DB에 저장해주어야 하는 문제로 DB에 과도한 사용 및 DB 저장시점에 대한 문제
- FIREBASE 
  -- 테스트 사용 결과 소켓연결을 통한 통신에 비해 딜레이가 상당히 긴 것을 확인하엿음.


⭐ 해결
- socket.io 를 통한 소켓연결을 통하여 일정 작성시 일정카드 마다 새로운 소켓 룸을 생성하여 실시간으로 변화는 값을 사용자들끼리 확인하도록 구현.
  일정 작성후 저장 버튼을 통하여 DB에 게시글을 한번만 저장하도록하여 DB사용량도 줄일수 있었습니다.
</details>






